<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Devoirs & Délices - Fréjus</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* Reset & Typo */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Roboto',sans-serif;}
body{background:#fff;color:#333;line-height:1.6;}
h1,h2,h3{font-weight:700;}
a{text-decoration:none;color:inherit;}

/* Header */
header{background:#f9a825;color:white;text-align:center;padding:60px 20px;}
header h1{font-size:3rem;margin-bottom:10px;}
header p{font-size:1.2rem;opacity:0.9;}

/* Navigation */
nav{display:flex;justify-content:center;gap:40px;background:#ffca28;padding:15px 0;}
nav a{font-weight:500;transition:0.3s;}
nav a:hover{color:#f57f17;}

/* Sections */
section{max-width:1200px;margin:auto;padding:80px 20px;}
h2{color:#f9a825;margin-bottom:30px;}

/* Buttons */
.btn{display:inline-block;padding:12px 25px;background:#f9a825;color:white;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:0.3s;}
.btn:hover{background:#ffca28;color:#333;transform:scale(1.05);}

/* Carte pâtisserie */
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px;}
.card{background:#fafafa;border-radius:12px;overflow:hidden;box-shadow:0 6px 15px rgba(0,0,0,0.1);transition:0.3s;display:flex;flex-direction:column;}
.card img{width:100%;height:180px;object-fit:cover;transition:0.3s;}
.card img:hover{transform:scale(1.05);}
.card-content{padding:15px;flex:1;display:flex;flex-direction:column;}
.card-content h3{margin-bottom:10px;color:#f9a825;}
.card-content p{flex:1;margin-bottom:15px;opacity:0.85;}

/* Formulaire */
form{display:flex;flex-direction:column;gap:20px;max-width:600px;margin:auto;}
input,textarea{padding:12px;border:1px solid #ccc;border-radius:8px;width:100%;font-size:1rem;}
input[type="submit"]{background:#f9a825;color:white;cursor:pointer;font-weight:600;transition:0.3s;}
input[type="submit"]:hover{background:#ffca28;color:#333;transform:scale(1.05);}

/* Grille semaine */
#week-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;margin-top:20px;}
.day{border:1px solid #eee;padding:15px;border-radius:12px;min-height:120px;display:flex;flex-direction:column;align-items:center;background:#fafafa;transition:0.3s;}
.day-header{font-weight:600;margin-bottom:10px;color:#f9a825;}
.slot{padding:6px 10px;margin:3px;background:#f9a825;color:white;border-radius:6px;cursor:pointer;transition:0.3s;user-select:none;}
.slot:hover{background:#ffca28;}
.slot.selected-slot{background:#d84315;}
#selected-summary{margin-top:20px;padding:15px;background:#f3f3f3;border-radius:12px;font-weight:500;}

/* Lightbox */
#lightbox{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;z-index:1000;}
#lightbox img{max-width:80%;max-height:70%;border-radius:12px;}
#lightbox span{position:absolute;top:20px;right:30px;font-size:2rem;color:white;cursor:pointer;}
#prev,#next{position:absolute;top:50%;font-size:3rem;color:white;cursor:pointer;transform:translateY(-50%);padding:15px;}
#prev{left:30px;}#next{right:30px;}
#thumbnails{display:flex;justify-content:center;gap:10px;margin-top:15px;}
#thumbnails img{width:70px;height:70px;object-fit:cover;border-radius:8px;cursor:pointer;border:2px solid transparent;transition:0.3s;}
#thumbnails img.selected{border:2px solid #f9a825;}

/* Responsive */
@media(max-width:900px){#week-grid{grid-template-columns:repeat(3,1fr);}}
@media(max-width:600px){#week-grid{grid-template-columns:repeat(1,1fr);}}
</style>
</head>
<body>

<header>
  <h1>Devoirs & Délices</h1>
  <p>Aide aux devoirs et pâtisseries maison à Fréjus</p>
</header>

<nav>
  <a href="#aide">Aide aux devoirs</a>
  <a href="#patisseries">Pâtisseries</a>
  <a href="#contact">Contact</a>
  <a href="#agenda">Agenda</a>
</nav>

<section id="aide">
  <h2>Aide aux devoirs</h2>
  <p>Besoin d'aide en maths, français ou sciences ? <strong>Notre experts</strong> sont là pour t'aider !</p>
  <a href="#agenda" class="btn">Réserver une séance</a>
</section>

<section id="patisseries">
  <h2>Pâtisseries maison</h2>
  <div class="cards" id="cards"></div>
  <div id="lightbox">
    <span onclick="closeLightbox()">&times;</span>
    <span id="prev">&#10094;</span>
    <span id="next">&#10095;</span>
    <img id="lightboxImg">
  </div>
  <div id="thumbnails"></div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <form id="contactForm" action="https://formspree.io/f/yourformid" method="POST">
    <input type="text" name="name" placeholder="Votre nom" required>
    <input type="email" name="email" placeholder="Votre email" required>
    <textarea name="message" placeholder="Votre message" rows="5" required></textarea>
    <input type="submit" value="Envoyer">
  </form>
</section>

<section id="agenda">
  <h2>Réservez votre séance</h2>
  <p style="text-align:center;opacity:0.8;">Glissez-déposez ou cliquez pour sélectionner plusieurs créneaux</p>
  <div id="week-grid"></div>
  <div id="selected-summary">Sélectionnez vos créneaux ci-dessus.</div>
  <form id="bookingForm" action="https://formspree.io/f/yourformid" method="POST">
    <input type="hidden" name="slots" id="selectedSlotsInput">
    <input type="submit" value="Confirmer la réservation" class="btn" disabled>
  </form>
</section>

<footer style="text-align:center; padding:40px; background:#ffca28; color:#333;">
  &copy; 2026 Devoirs & Délices - Fréjus. Tous droits réservés.
</footer>

<script>
// ==================== Pâtisseries avec cartes ====================
const pastries=[
  {name:"Tarte aux fraises",desc:"Délicieuse tarte aux fraises fraîches et crème pâtissière.",img:"https://images.unsplash.com/photo-1551024709-8f23befc6e88?auto=format&fit=crop&w=500&q=60"},
  {name:"Éclair au chocolat",desc:"Éclair moelleux garni de crème au chocolat.",img:"https://images.unsplash.com/photo-1617196037906-2c0a2e4b5b2d?auto=format&fit=crop&w=500&q=60"},
  {name:"Macarons assortis",desc:"Macarons colorés avec différentes saveurs.",img:"https://images.unsplash.com/photo-1565958011703-44f9829ba187?auto=format&fit=crop&w=500&q=60"},
  {name:"Tarte au citron",desc:"Tarte acidulée au citron meringuée.",img:"https://images.unsplash.com/photo-1603079842022-dc95e2b85d09?auto=format&fit=crop&w=500&q=60"}
];
const cardsDiv=document.getElementById('cards');
pastries.forEach((p,i)=>{
  const card=document.createElement('div'); card.className='card';
  const img=document.createElement('img'); img.src=p.img; img.alt=p.name; img.onclick=()=>{currentIndex=i; lightbox.style.display='flex'; updateLightbox();}
  const content=document.createElement('div'); content.className='card-content';
  const h3=document.createElement('h3'); h3.innerText=p.name;
  const desc=document.createElement('p'); desc.innerText=p.desc;
  const btn=document.createElement('button'); btn.className='btn'; btn.innerText='Réserver ce créneau';
  btn.onclick=()=>{window.location='#agenda';}
  content.appendChild(h3); content.appendChild(desc); content.appendChild(btn);
  card.appendChild(img); card.appendChild(content);
  cardsDiv.appendChild(card);
});

// ==================== Lightbox ====================
let currentIndex=0;
const lightbox=document.getElementById('lightbox');
const lightboxImg=document.getElementById('lightboxImg');
const thumbnailsDiv=document.getElementById('thumbnails');

function updateLightbox(){lightboxImg.src=pastries[currentIndex].img; thumbnailsDiv.querySelectorAll('img').forEach((t,i)=>t.classList.toggle('selected',i===currentIndex));}

document.getElementById('prev').onclick=()=>{currentIndex=(currentIndex-1+pastries.length)%pastries.length; updateLightbox();}
document.getElementById('next').onclick=()=>{currentIndex=(currentIndex+1)%pastries.length; updateLightbox();}
function closeLightbox(){lightbox.style.display='none';}

// ==================== Formulaire ====================
document.getElementById('contactForm').addEventListener('submit',e=>alert('Merci ! Votre message a été envoyé.'));

// ==================== Agenda ====================
const weekGrid=document.getElementById('week-grid');
const selectedSummary=document.getElementById('selected-summary');
const selectedSlotsInput=document.getElementById('selectedSlotsInput');
const submitButton=document.querySelector('#bookingForm input[type="submit"]');
let selectedSlots=[];

const weekDays=['Mer','Sam','Dim'];
function generateWeekGrid(){
  weekGrid.innerHTML='';
  weekDays.forEach(day=>{
    const dayDiv=document.createElement('div'); dayDiv.className='day'; dayDiv.dataset.day=day;
    const header=document.createElement('div'); header.className='day-header'; header.innerText=day;
    dayDiv.appendChild(header);
    const slotsContainer=document.createElement('div'); slotsContainer.className='slots-container';
    const slots=generateSlots(day);
    slots.forEach(slot=>{
      const btn=document.createElement('div'); btn.className='slot'; btn.innerText=slot;
      btn.draggable=true;
      btn.addEventListener('dragstart',e=>{e.dataTransfer.setData("text/plain", day+"|"+slot);});
      btn.onclick=()=>{btn.classList.toggle('selected-slot'); updateSelection(day,slot);}
      slotsContainer.appendChild(btn);
    });
    dayDiv.appendChild(slotsContainer);
    weekGrid.appendChild(dayDiv);
  });
}

weekGrid.addEventListener('dragover',e=>{e.preventDefault();});
weekGrid.addEventListener('drop',e=>{
  e.preventDefault();
  const data=e.dataTransfer.getData("text/plain").split('|');
  const day=data[0], slot=data[1];
  updateSelection(day,slot);
  document.querySelectorAll('.day').forEach(d=>{
    if(d.dataset.day===day){
      Array.from(d.querySelectorAll('.slot')).forEach(s=>{
        if(s.innerText===slot){s.classList.add('selected-slot');}
      });
    }
  });
});

function generateSlots(day){
  let slots=[];
  if(day==='Mer'){for(let h=14;h<18;h++){slots.push(`${h}:00`); slots.push(`${h}:30`);}}
  if(day==='Sam'||day==='Dim'){for(let h=8;h<18;h++){slots.push(`${h}:00`); slots.push(`${h}:30`);}}
  return slots;
}

function updateSelection(day,slot){
  const key=`${day} ${slot}`;
  if(selectedSlots.includes(key)){selectedSlots=selectedSlots.filter(s=>s!==key);}
  else{selectedSlots.push(key);}
  selectedSummary.innerText=selectedSlots.length>0?`Créneaux sélectionnés: ${selectedSlots.join(', ')}`:'Sélectionnez vos créneaux ci-dessus.';
  selectedSlotsInput.value=selectedSlots.join(', ');
  submitButton.disabled=selectedSlots.length===0;
}

generateWeekGrid();
</script>

</body>
</html>
