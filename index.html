<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Devoirs & Délices</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Roboto',sans-serif;}
  body{background:#fff;color:#333;}
  header{background:#f9a825;color:white;text-align:center;padding:20px;}
  header h1{font-size:2.5rem;}
  nav{display:flex;justify-content:center;gap:20px;background:#ffca28;padding:10px 0;}
  nav a{color:#333;text-decoration:none;font-weight:700;}
  nav a:hover{color:#f9a825;}
  section{max-width:1000px;margin:auto;padding:40px 20px;}
  h2{color:#f9a825;margin-bottom:20px;}
  .btn{display:inline-block;padding:12px 25px;background:#f9a825;color:white;border:none;border-radius:5px;cursor:pointer;transition:0.3s;text-decoration:none;}
  .btn:hover{background:#ffca28;color:#333;transform:scale(1.05);}

  /* Galerie Lightbox */
  .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;}
  .gallery img{width:100%;border-radius:10px;cursor:pointer;transition:0.3s;box-shadow:0 4px 8px rgba(0,0,0,0.1);}
  .gallery img:hover{transform:scale(1.05);box-shadow:0 8px 16px rgba(0,0,0,0.2);}
  #lightbox{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;z-index:1000;}
  #lightbox img{max-width:80%;max-height:70%;border-radius:10px;}
  #lightbox span{position:absolute;top:20px;right:30px;font-size:2rem;color:white;cursor:pointer;}
  #prev,#next{position:absolute;top:50%;font-size:3rem;color:white;cursor:pointer;transform:translateY(-50%);padding:10px;}
  #prev{left:20px;}#next{right:20px;}
  #thumbnails{display:flex;justify-content:center;gap:10px;margin-top:10px;}
  #thumbnails img{width:60px;height:60px;object-fit:cover;border-radius:5px;cursor:pointer;border:2px solid transparent;transition:0.3s;}
  #thumbnails img.selected{border:2px solid #f9a825;}

  /* Formulaire */
  form{display:flex;flex-direction:column;gap:15px;max-width:500px;margin:auto;}
  input,textarea{padding:10px;border:1px solid #ccc;border-radius:5px;width:100%;}
  input[type="submit"]{background:#f9a825;color:white;cursor:pointer;transition:0.3s;}
  input[type="submit"]:hover{background:#ffca28;color:#333;transform:scale(1.05);}

  /* Grille de la semaine */
  #week-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;margin-top:20px;}
  .day{border:1px solid #ccc;padding:10px;border-radius:5px;min-height:100px;display:flex;flex-direction:column;align-items:center;}
  .day-header{font-weight:bold;margin-bottom:5px;color:#f9a825;}
  .slot{padding:5px 8px;margin:2px;background:#f9a825;color:white;border-radius:5px;cursor:pointer;transition:0.3s;}
  .slot:hover{background:#ffca28;}
  .slot.selected-slot{background:#d84315;}
  #selected-summary{margin-top:20px;padding:10px;background:#f3f3f3;border-radius:5px;}
</style>
</head>
<body>

<header>
  <h1>Devoirs & Délices</h1>
  <p>Aide aux devoirs et pâtisseries maison</p>
</header>

<nav>
  <a href="#aide">Aide aux devoirs</a>
  <a href="#patisseries">Pâtisseries</a>
  <a href="#contact">Contact</a>
  <a href="#agenda">Agenda</a>
</nav>

<section id="aide">
  <h2>Aide aux devoirs</h2>
  <p>Besoin d'aide en maths, français ou sciences ? <strong>Notre expert</strong> sont là pour t'aider !</p>
</section>

<section id="patisseries">
  <h2>Pâtisseries maison</h2>
  <div class="gallery" id="gallery"></div>
  <div id="lightbox">
    <span onclick="closeLightbox()">&times;</span>
    <span id="prev">&#10094;</span>
    <span id="next">&#10095;</span>
    <img id="lightboxImg">
  </div>
  <div id="thumbnails"></div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <form id="contactForm" action="https://formspree.io/f/yourformid" method="POST">
    <input type="text" name="name" placeholder="Votre nom" required>
    <input type="email" name="email" placeholder="Votre email" required>
    <textarea name="message" placeholder="Votre message" rows="5" required></textarea>
    <input type="submit" value="Envoyer">
  </form>
</section>

<section id="agenda">
  <h2>Réservez votre séance</h2>
  <div id="week-grid"></div>
  <div id="selected-summary">Sélectionnez vos créneaux ci-dessus.</div>
  <form id="bookingForm" action="https://formspree.io/f/yourformid" method="POST">
    <input type="hidden" name="slots" id="selectedSlotsInput">
    <input type="submit" value="Confirmer la réservation" class="btn" disabled>
  </form>
</section>

<footer style="text-align:center; padding:20px; background:#ffca28; color:#333;">
  &copy; 2026 Devoirs & Délices. Tous droits réservés.
</footer>

<script>
// ================= Galerie lightbox avec miniatures =================
const images = [
  "https://images.unsplash.com/photo-1551024709-8f23befc6e88?auto=format&fit=crop&w=500&q=60",
  "https://images.unsplash.com/photo-1617196037906-2c0a2e4b5b2d?auto=format&fit=crop&w=500&q=60",
  "https://images.unsplash.com/photo-1565958011703-44f9829ba187?auto=format&fit=crop&w=500&q=60",
  "https://images.unsplash.com/photo-1603079842022-dc95e2b85d09?auto=format&fit=crop&w=500&q=60",
  "https://images.unsplash.com/photo-1620912129616-7b98cba8e7cb?auto=format&fit=crop&w=500&q=60"
];
const galleryDiv = document.getElementById('gallery');
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const thumbnailsDiv = document.getElementById('thumbnails');
let currentIndex = 0;

function updateLightbox(){
  lightboxImg.src=images[currentIndex];
  thumbnailsDiv.querySelectorAll('img').forEach((t,i)=>t.classList.toggle('selected',i===currentIndex));
}

images.forEach((src,i)=>{
  const img=document.createElement('img'); img.src=src;
  img.alt=`Pâtisserie ${i+1}`;
  img.onclick=()=>{currentIndex=i; lightbox.style.display='flex'; updateLightbox();}
  galleryDiv.appendChild(img);

  const thumb=document.createElement('img'); thumb.src=src;
  thumb.alt=`Miniature ${i+1}`;
  thumb.onclick=()=>{currentIndex=i; updateLightbox();}
  thumbnailsDiv.appendChild(thumb);
});

document.getElementById('prev').onclick=()=>{currentIndex=(currentIndex-1+images.length)%images.length; updateLightbox();}
document.getElementById('next').onclick=()=>{currentIndex=(currentIndex+1)%images.length; updateLightbox();}
function closeLightbox(){lightbox.style.display='none';}

// ================= Formulaire =================
document.getElementById('contactForm').addEventListener('submit',e=>alert('Merci ! Votre message a été envoyé.'));

// ================= Grille semaine et créneaux =================
const weekGrid=document.getElementById('week-grid');
const selectedSummary=document.getElementById('selected-summary');
const selectedSlotsInput=document.getElementById('selectedSlotsInput');
const submitButton=document.querySelector('#bookingForm input[type="submit"]');
let selectedSlots=[];

// Générer 3 jours: Mercredi après-midi et Week-end
const weekDays=['Mer','Sam','Dim'];
function generateWeekGrid(){
  weekGrid.innerHTML='';
  weekDays.forEach(day=>{
    const dayDiv=document.createElement('div'); dayDiv.className='day';
    const header=document.createElement('div'); header.className='day-header'; header.innerText=day;
    dayDiv.appendChild(header);
    const slotsContainer=document.createElement('div'); slotsContainer.className='slots-container';
    const slots=generateSlots(day);
    slots.forEach(slot=>{
      const btn=document.createElement('div'); btn.className='slot'; btn.innerText=slot;
      btn.onclick=()=>{btn.classList.toggle('selected-slot'); updateSelection(day,slot);}
      slotsContainer.appendChild(btn);
    });
    dayDiv.appendChild(slotsContainer);
    weekGrid.appendChild(dayDiv);
  });
}
function generateSlots(day){
  let slots=[];
  if(day==='Mer'){for(let h=14;h<18;h++){slots.push(`${h}:00`); slots.push(`${h}:30`);}}
  if(day==='Sam'||day==='Dim'){for(let h=8;h<18;h++){slots.push(`${h}:00`); slots.push(`${h}:30`);}}
  return slots;
}
function updateSelection(day,slot){
  const key=`${day} ${slot}`;
  if(selectedSlots.includes(key)){selectedSlots=selectedSlots.filter(s=>s!==key);}
  else{selectedSlots.push(key);}
  selectedSummary.innerText=selectedSlots.length>0?`Créneaux sélectionnés: ${selectedSlots.join(', ')}`:'Sélectionnez vos créneaux ci-dessus.';
  selectedSlotsInput.value=selectedSlots.join(', ');
  submitButton.disabled=selectedSlots.length===0;
}
generateWeekGrid();
</script>

</body>
</html>
